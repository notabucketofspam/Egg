<button [class]="menuButtonClass" (click)="toggleMenu()" class="MenuButton Bottom Right">PW</button>
<div [class]="menuClass" [ngStyle]="{'overscroll-behavior-y':'none'}" class="Menu Bottom Right">
  <b>Raise a Public Work</b>
  <form [formGroup]="raiseForm" (ngSubmit)="raise()">
    <label for="stock-select">Company:&nbsp;</label>
    <select id="stock-select" formControlName="stock" [class]="raiseForm.controls['stock'].value&&state.pw&&state.pw[raiseForm.controls['stock'].value]===1?'MostExcellent':raiseForm.controls['stock'].value&&state.pw&&state.pw[raiseForm.controls['stock'].value]===2?'Good':raiseForm.controls['stock'].value&&state.pw&&state.pw[raiseForm.controls['stock'].value]===3?'Bad':raiseForm.controls['stock'].value&&state.pw&&state.pw[raiseForm.controls['stock'].value]===4?'DogWater':'TrueNeutral'">
    <option [ngValue]="'---'" [class]="'TrueNeutral'">---</option>
      <ng-container *ngFor="let stock of stockTable">
        <ng-container [ngSwitch]="state.pw&&state.pw[stock[0]]">
          <option [ngValue]="stock[0]" *ngSwitchCase="0" class="TrueNeutral">{{flavorIcons[0]}}{{stock[1]+" > "+stock[2]}}</option>
          <option [ngValue]="stock[0]" *ngSwitchCase="1" class="MostExcellent">{{flavorIcons[1]}}{{stock[1]+" > "+stock[2]}}</option>
          <option [ngValue]="stock[0]" *ngSwitchCase="2" class="Good">{{flavorIcons[2]}}{{stock[1]+" > "+stock[2]}}</option>
          <option [ngValue]="stock[0]" *ngSwitchCase="3" class="Bad">{{flavorIcons[3]}}{{stock[1]+" > "+stock[2]}}</option>
          <option [ngValue]="stock[0]" *ngSwitchCase="4" class="DogWater">{{flavorIcons[4]}}{{stock[1]+" > "+stock[2]}}</option>
        </ng-container>
      </ng-container>
    </select>
    <br />
    <label for="flavor-select">Flavor:&nbsp;</label>
    <select formControlName="flavor" id="flavor-select" [class]="raiseForm.controls['flavor'].value&&raiseForm.controls['flavor'].value==='Most Excellent'?'MostExcellent':raiseForm.controls['flavor'].value&&raiseForm.controls['flavor'].value==='Good'?'Good':raiseForm.controls['flavor'].value&&raiseForm.controls['flavor'].value==='Bad'?'Bad':raiseForm.controls['flavor'].value&&raiseForm.controls['flavor'].value==='Dog Water'?'DogWater':'TrueNeutral'">
      <ng-container *ngFor="let flavor of flavors; index as i">
        <ng-container [ngSwitch]="i">
          <option [ngValue]="flavor" *ngSwitchCase="0" class="TrueNeutral">{{flavor}}</option>
          <option [ngValue]="flavor" *ngSwitchCase="1" class="MostExcellent">{{flavorIcons[1]}}{{flavor}}</option>
          <option [ngValue]="flavor" *ngSwitchCase="2" class="Good">{{flavorIcons[2]}}{{flavor}}</option>
          <option [ngValue]="flavor" *ngSwitchCase="3" class="Bad">{{flavorIcons[3]}}{{flavor}}</option>
          <option [ngValue]="flavor" *ngSwitchCase="4" class="DogWater">{{flavorIcons[4]}}{{flavor}}</option>
        </ng-container>
      </ng-container>
    </select>
    <br />
    <button type="submit" id="raise-button" [disabled]="!raiseForm.controls['stock'].value||!raiseForm.controls['flavor'].value||raiseForm.controls['stock'].value==='---'||raiseForm.controls['flavor'].value==='---'||state.pw[raiseForm.controls['stock'].value]!==0||!fullyQualify[0]||!fullyQualify[1]||!fullyQualify[2]">Raise</button>
  </form>
  <div *ngIf="raiseForm.controls['flavor'].value!=='---'">
    <div [ngSwitch]="raiseForm.controls['flavor'].value">
      <ng-container *ngSwitchCase="'Most Excellent'">
        <dl>
          <dt><b>Dividend Rate</b>: 15%</dt>
          <dd>
            Projected payout:
            <span *ngIf="raiseForm.controls['stock'].value!==null">
              {{raiseForm.controls['stock'].value!=='---'&&(state.pw[raiseForm.controls['stock'].value!]===flavors.indexOf(raiseForm.controls['flavor'].value!)||state.pw[raiseForm.controls['stock'].value!]===0)?(dividendTable[1]*state.user[user].own[raiseForm.controls['stock'].value]*state.price[raiseForm.controls['stock'].value]|currency):'N/A'}}
            </span>
          </dd>
          <dt><b>Membership Upgrade Cost</b>: $450</dt>
          <dd>
            New cost:
            <span *ngIf="raiseForm.controls['stock'].value!==null">
              {{state.pw[raiseForm.controls['stock'].value]===0&&raiseForm.controls['stock'].value!=='---'?'$'+getUpgradeCost():'N/A'}}
            </span>
          </dd>
        </dl>
        <b>Requirements</b>: Most Excellent
        <table class="Wide">
          <tr>
            <td class="Qualify TopBlack">{{qualifyIcons[getQualifyOwn()[0]]}}</td>
            <td class="TopBlack">2 consecutive rounds as the Majority Stakeholder</td>
          </tr>
          <ng-container *ngFor="let item of getQualifyOwn()[1]">
            <tr>
              <td></td>
              <td class="Item">{{item}}</td>
            </tr>
          </ng-container>
          <tr>
            <td class="Qualify TopBlack">{{qualifyIcons[getQualifyStake()[0]]}}</td>
            <td class="TopBlack">All Players are stakeholders in the company</td>
          </tr>
          <ng-container *ngFor="let item of getQualifyStake()[1]">
            <tr>
              <td></td>
              <td class="Item">{{item}}</td>
            </tr>
          </ng-container>
          <tr>
            <td class="Qualify TopBlack">{{getQualifyCash()[0]}}</td>
            <td class="TopBlack">$250 fee at time of raising</td>
          </tr>
          <tr>
            <td></td>
            <td class="Item">Your cash: {{getQualifyCash()[1]}}</td>
          </tr>
        </table>
      </ng-container>
      <ng-container *ngSwitchCase="'Good'">
        <dl>
          <dt><b>Dividend Rate</b>: 25%</dt>
          <dd>
            Projected payout:
            <span *ngIf="raiseForm.controls['stock'].value!==null">
              {{raiseForm.controls['stock'].value!=='---'&&(state.pw[raiseForm.controls['stock'].value!]===flavors.indexOf(raiseForm.controls['flavor'].value!)||state.pw[raiseForm.controls['stock'].value!]===0)?(dividendTable[2]*state.user[user].own[raiseForm.controls['stock'].value]*state.price[raiseForm.controls['stock'].value]|currency):'N/A'}}
            </span>
          </dd>
          <dt><b>Membership Upgrade Cost</b>: $550</dt>
          <dd>
            New cost:
            <span *ngIf="raiseForm.controls['stock'].value!==null">
              {{state.pw[raiseForm.controls['stock'].value]===0&&raiseForm.controls['stock'].value!=='---'?'$'+getUpgradeCost():'N/A'}}
            </span>
          </dd>
        </dl>
        <b>Requirements</b>: Good
        <table class="Wide">
          <tr>
            <td class="Qualify TopBlack">{{qualifyIcons[getQualifyOwn()[0]]}}</td>
            <td class="TopBlack">1 round as the Majority Stakeholder</td>
          </tr>
          <ng-container *ngFor="let item of getQualifyOwn()[1]">
            <tr>
              <td></td>
              <td class="Item">{{item}}</td>
            </tr>
          </ng-container>
          <tr>
            <td class="Qualify TopBlack">{{qualifyIcons[getQualifyStake()[0]]}}</td>
            <td class="TopBlack">3 Players in total are stakeholders in the company</td>
          </tr>
          <ng-container *ngFor="let item of getQualifyStake()[1]">
            <tr>
              <td></td>
              <td class="Item">{{item}}</td>
            </tr>
          </ng-container>
          <tr>
            <td class="Qualify TopBlack">{{getQualifyCash()[0]}}</td>
            <td class="TopBlack">$350 fee at time of raising</td>
          </tr>
          <tr>
            <td></td>
            <td class="Item">Your cash: {{getQualifyCash()[1]}}</td>
          </tr>
        </table>
      </ng-container>
      <ng-container *ngSwitchCase="'Bad'">
        <dl>
          <dt><b>Dividend Rate</b>: 35%</dt>
          <dd>
            Projected payout:
            <span *ngIf="raiseForm.controls['stock'].value!==null">
              {{raiseForm.controls['stock'].value!=='---'&&(state.pw[raiseForm.controls['stock'].value!]===flavors.indexOf(raiseForm.controls['flavor'].value!)||state.pw[raiseForm.controls['stock'].value!]===0)?(dividendTable[3]*state.user[user].own[raiseForm.controls['stock'].value]*state.price[raiseForm.controls['stock'].value]|currency):'N/A'}}
            </span>
          </dd>
          <dt><b>Membership Upgrade Cost</b>: $650</dt>
          <dd>
            New cost:
            <span *ngIf="raiseForm.controls['stock'].value!==null">
              {{state.pw[raiseForm.controls['stock'].value]===0&&raiseForm.controls['stock'].value!=='---'?'$'+getUpgradeCost():'N/A'}}
            </span>
          </dd>
        </dl>
        <b>Requirements</b>: Bad
        <table class="Wide">
          <tr>
            <td class="Qualify TopBlack">{{qualifyIcons[getQualifyOwn()[0]]}}</td>
            <td class="TopBlack">1 round as the Majority Stakeholder</td>
          </tr>
          <ng-container *ngFor="let item of getQualifyOwn()[1]">
            <tr>
              <td></td>
              <td class="Item">{{item}}</td>
            </tr>
          </ng-container>
          <tr>
            <td class="Qualify TopBlack">{{qualifyIcons[getQualifyStake()[0]]}}</td>
            <td class="TopBlack">Supermajority stakeholder (75%) at time of raising</td>
          </tr>
          <ng-container *ngFor="let item of getQualifyStake()[1]">
            <tr>
              <td></td>
              <td class="Item">{{item}}</td>
            </tr>
          </ng-container>
          <tr>
            <td class="Qualify TopBlack">{{getQualifyCash()[0]}}</td>
            <td class="TopBlack">$450 fee at time of raising</td>
          </tr>
          <tr>
            <td></td>
            <td class="Item">Your cash: {{getQualifyCash()[1]}}</td>
          </tr>
        </table>
      </ng-container>
      <ng-container *ngSwitchCase="'Dog Water'">
        <dl>
          <dt><b>Dividend Rate</b>: 50%</dt>
          <dd>
            Projected payout:
            <span *ngIf="raiseForm.controls['stock'].value!==null">
              {{raiseForm.controls['stock'].value!=='---'&&(state.pw[raiseForm.controls['stock'].value!]===flavors.indexOf(raiseForm.controls['flavor'].value!)||state.pw[raiseForm.controls['stock'].value!]===0)?(dividendTable[4]*state.user[user].own[raiseForm.controls['stock'].value]*state.price[raiseForm.controls['stock'].value]|currency):'N/A'}}
            </span>
          </dd>
          <dt><b>Membership Upgrade Cost</b>: $800</dt>
          <dd>
            New cost:
            <span *ngIf="raiseForm.controls['stock'].value!==null">
              {{state.pw[raiseForm.controls['stock'].value]===0&&raiseForm.controls['stock'].value!=='---'?'$'+getUpgradeCost():'N/A'}}
            </span>
          </dd>
        </dl>
        <b>Requirements</b>: Dog Water
        <table class="Wide">
          <tr>
            <td class="Qualify TopBlack">{{qualifyIcons[getQualifyOwn()[0]]}}</td>
            <td class="TopBlack">2 consecutive rounds as the Majority Stakeholder</td>
          </tr>
          <ng-container *ngFor="let item of getQualifyOwn()[1]">
            <tr>
              <td></td>
              <td class="Item">{{item}}</td>
            </tr>
          </ng-container>
          <tr>
            <td class="Qualify TopBlack">{{qualifyIcons[getQualifyStake()[0]]}}</td>
            <td class="TopBlack">Hold all stocks in the company</td>
          </tr>
          <ng-container *ngFor="let item of getQualifyStake()[1]">
            <tr>
              <td></td>
              <td class="Item">{{item}}</td>
            </tr>
          </ng-container>
          <tr>
            <td class="Qualify TopBlack">{{getQualifyCash()[0]}}</td>
            <td class="TopBlack">$600 fee at time of raising</td>
          </tr>
          <tr>
            <td></td>
            <td class="Item">Your cash: {{getQualifyCash()[1]}}</td>
          </tr>
        </table>
      </ng-container>
      <div *ngSwitchDefault>
        sorry nothing.
      </div>
    </div>
  </div>
</div>
